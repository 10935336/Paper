From 182ee0d285eaeedc1c500912fc51359878544406 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Fri, 2 Nov 2018 23:22:34 -0400
Subject: [PATCH] Keep players yaw/pitch on vehicle updates


diff --git a/src/main/java/net/minecraft/server/PlayerConnection.java b/src/main/java/net/minecraft/server/PlayerConnection.java
index 398f2fdf83..edd7ba353d 100644
--- a/src/main/java/net/minecraft/server/PlayerConnection.java
+++ b/src/main/java/net/minecraft/server/PlayerConnection.java
@@ -375,12 +375,12 @@ public class PlayerConnection implements PacketListenerPlayIn, ITickable {
                 Location curPos = this.getPlayer().getLocation(); // Spigot
 
                 entity.setLocation(d3, d4, d5, f, f1);
-                player.setLocation(d3, d4, d5, f, f1); // CraftBukkit
+                player.setLocation(d3, d4, d5, player.yaw, player.pitch); // CraftBukkit // Paper
                 boolean flag2 = worldserver.getCubes(entity, entity.getBoundingBox().shrink(0.0625D)).isEmpty();
 
                 if (flag && (flag1 || !flag2)) {
                     entity.setLocation(d0, d1, d2, f, f1);
-                    player.setLocation(d0, d1, d2, f, f1); // CraftBukkit
+                    player.setLocation(d3, d4, d5, player.yaw, player.pitch); // CraftBukkit // Paper
                     this.networkManager.sendPacket(new PacketPlayOutVehicleMove(entity));
                     return;
                 }
-- 
2.19.1

